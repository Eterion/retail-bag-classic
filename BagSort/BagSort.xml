<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">
    <Texture name="ContainerFramePortraitButtonHighlightTemplate" parentKey="Highlight" atlas="bags-roundhighlight" alphaMode="ADD" hidden="true" virtual="true">
        <Size x="36" y="36" />
        <Anchors>
            <Anchor point="CENTER" x="-3" y="3" />>
        </Anchors>
    </Texture>

    <Button name="FilterIconTemplate" parentKey="FilterIcon" hidden="true" virtual="true">
        <Size x="28" y="28" />
        <Anchors>
            <Anchor point="CENTER" relativeKey="$parent.Portrait" relativePoint="BOTTOMRIGHT" x="-9" y="14" />
        </Anchors>
        <Layers>
            <Layer level="OVERLAY">
                <Texture parentKey="Icon" atlas="bags-icon-consumables" useAtlasSize="true">
                    <Anchors>
                        <Anchor point="CENTER" />
                    </Anchors>
                </Texture>
            </Layer>
        </Layers>
        <Scripts>
            <OnShow>
                self:SetFrameLevel(self:GetParent().PortraitButton:GetFrameLevel() + 1)
            </OnShow>
            <OnEnter>
                local target = self:GetParent().PortraitButton
                target:GetScript("OnEnter")(target)
            </OnEnter>
            <OnLeave>
                local target = self:GetParent().PortraitButton
                target:GetScript("OnLeave")(target)
            </OnLeave>
            <OnClick>
                local target = self:GetParent().PortraitButton
                target:GetScript("OnClick")(target)
            </OnClick>
        </Scripts>
    </Button>

    <Frame name="FilterDropDownTemplate" parentKey="FilterDropDown" inherits="UIDropDownMenuTemplate" virtual="true" />

    <EditBox name="BagItemSearchBox" inherits="BagSearchBoxTemplate" parent="ContainerFrame1" letters="15">
        <Size x="103" y="18" />
        <Anchors>
            <Anchor point="TOPLEFT" x="55" y="-29"/>
        </Anchors>
    </EditBox>

    <Button name="BagItemAutoSortButton" parent="ContainerFrame1">
        <Size x="23" y="19" />
		<NormalTexture atlas="bags-button-autosort-up"/>
		<PushedTexture atlas="bags-button-autosort-down"/>
		<HighlightTexture file="Interface\Buttons\ButtonHilight-Square" alphaMode="ADD">
			<Size x="19" y="16"/>
			<Anchors>
				<Anchor point="CENTER" x="0" y="0"/>
			</Anchors>
		</HighlightTexture>
        <Anchors>
            <Anchor point="LEFT" relativeTo="BagItemSearchBox" relativePoint="RIGHT" x="0" y="-1"/>
        </Anchors>
        <Scripts>
			<OnEnter>
				GameTooltip:SetOwner(self);
				GameTooltip:SetText(BAG_CLEANUP_BAGS);
				GameTooltip:Show();
			</OnEnter>
            <OnLeave function="GameTooltip_Hide"></OnLeave>
        </Scripts>
    </Button>

    <EditBox name="BankItemSearchBox" inherits="BagSearchBoxTemplate" parent="BankFrame" letters="15">
        <Size x="110" y="20"/>
        <Anchors>
            <Anchor point="TOPRIGHT" x="-92" y="-45"/>
        </Anchors>
        <Layers>
            <Layer level="BACKGROUND" textureSubLevel="-1">
                <Texture file="Interface\BankFrame\Bank-Background" horizTile="true" vertTile="true">
                    <Size x="110" y="20" />
                    <Anchors>
                        <Anchor point="TOPLEFT" x="0" y="0" />
                    </Anchors>
                </Texture>
            </Layer>
        </Layers>
    </EditBox>

    <Button name="BankItemAutoSortButton" parent="BankFrame">
        <Size x="28" y="26" />
		<NormalTexture atlas="bags-button-autosort-up"/>
		<PushedTexture atlas="bags-button-autosort-down"/>
		<HighlightTexture file="Interface\Buttons\ButtonHilight-Square" alphaMode="ADD">
			<Size x="24" y="23"/>
			<Anchors>
				<Anchor point="CENTER" x="0" y="0"/>
			</Anchors>
		</HighlightTexture>
        <Anchors>
            <Anchor point="LEFT" relativeTo="BankItemSearchBox" relativePoint="RIGHT" x="5" y="0"/>
        </Anchors>
        <Scripts>
			<OnEnter>
				GameTooltip:SetOwner(self);
				GameTooltip:SetText(BAG_CLEANUP_BANK);
				GameTooltip:Show();
			</OnEnter>
            <OnLeave function="GameTooltip_Hide"></OnLeave>
        </Scripts>
    </Button>

    <Button name="BankDepositReagentsButton" parent="BankFrame" inherits="UIPanelButtonTemplate" text="REAGENTBANK_DEPOSIT" hidden="true">
        <Size x="256" y="24" />
        <Anchors>
            <Anchor point="CENTER" relativePoint="CENTER" x="-15" y="-100" />
        </Anchors>
        <Scripts>
            <OnClick>
                PlaySound(SOUNDKIT.IG_MAINMENU_OPTION)
            </OnClick>
        </Scripts>
    </Button>

    <Script file="BagSort/BagSort.lua" />
</Ui>
